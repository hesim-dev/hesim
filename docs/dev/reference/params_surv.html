<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Parameters of a survival model — params_surv • hesim</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Parameters of a survival model — params_surv" />
<meta property="og:description" content="Create a list containing the parameters of a single fitted parametric or
flexible parametric survival model." />
<meta property="og:image" content="https://hesim-dev.github.io/hesim/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131661920-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-131661920-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hesim</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.0.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">API</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/intro.html">Introduction to hesim</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Cohort discrete time state transition models</li>
    <li>
      <a href="../articles/markov-cohort.html">Simple Markov cohort model</a>
    </li>
    <li>
      <a href="../articles/markov-inhomogeneous-cohort.html">Time inhomogeneous Markov cohort models</a>
    </li>
    <li>
      <a href="../articles/mlogit.html">Markov models with multinomial logistic regression</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Individual continuous time state transition models</li>
    <li>
      <a href="../articles/markov-inhomogeneous-indiv.html">Time inhomogeneous Markov individual-level models</a>
    </li>
    <li>
      <a href="../articles/mstate.html">Markov and semi-Markov multi-state models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Partitioned survival analysis</li>
    <li>
      <a href="../articles/psm.html">N-state partitioned survival models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Decision analysis</li>
    <li>
      <a href="../articles/cea.html">Cost-effectiveness analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/benchmarks.html">Benchmarks</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hesim-dev/hesim/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parameters of a survival model</h1>
    <small class="dont-index">Source: <a href='https://github.com/hesim-dev/hesim/blob/master/R/params_surv.R'><code>R/params_surv.R</code></a></small>
    <div class="hidden name"><code>params_surv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Create a list containing the parameters of a single fitted parametric or
flexible parametric survival model.</p>
    </div>

    <pre class="usage"><span class='fu'>params_surv</span><span class='op'>(</span><span class='va'>coefs</span>, <span class='va'>dist</span>, aux <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>coefs</th>
      <td><p>A list of length equal to the number of parameters in the
survival distribution. Each element of the list is a matrix of samples
of the regression coefficients under sampling uncertainty used to predict
a given parameter. All parameters are expressed on the real line (e.g.,
after log transformation if they are defined as positive). Each element
of the list may also be an object coercible to a matrix such as a
<code>data.frame</code> or <code>data.table</code>.</p></td>
    </tr>
    <tr>
      <th>dist</th>
      <td><p>Character vector denoting the parametric distribution. See "Details".</p></td>
    </tr>
    <tr>
      <th>aux</th>
      <td><p>Auxiliary arguments used with splines, fractional polynomial,
or piecewise exponential models. See "Details".</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>params_surv</code>, which is a list containing <code>coefs</code>,
<code>dist</code>, and <code>n_samples</code>. <code>n_samples</code> is equal to the number of rows
in each element of <code>coefs</code>, which must be the same. The list may also contain
<code>aux</code> if a spline, fractional polynomial, or piecewise exponential model is
used.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Survival is modeled as a function of \(L\) parameters \(\alpha_l\).
Letting \(F(t)\) be the cumulative distribution function, survival at time \(t\)
is given by
$$1 - F(t | \alpha_1(x_{1}), \ldots, \alpha_L(x_{L})).$$
The parameters are modeled as a function of covariates, \(x_l\), with an
inverse transformation function \(g^{-1}()\),
$$\alpha_l =  g^{-1}(x_{l}^T \beta_l).$$
\(g^{-1}()\) is typically \(exp()\) if a parameter is strictly positive
and the identity function if the parameter space is unrestricted.</p>
<p>The types of distributions that can be specified are:</p><ul>
<li><p><code>exponential</code> or <code>exp</code> Exponential distribution. <code>coef</code>
must contain the <code>rate</code> parameter on the log scale and the same parameterization as in
<code><a href='https://rdrr.io/r/stats/Exponential.html'>stats::Exponential</a></code>.</p></li>
<li><p><code>weibull</code> or <code>weibull.quiet</code> Weibull distribution. The first
element of <code>coef</code> is the <code>shape</code> parameter (on the log scale) and the second
element is the <code>scale</code> parameter (also on the log scale). The parameterization is
that same as in <code><a href='https://rdrr.io/r/stats/Weibull.html'>stats::Weibull</a></code>.</p></li>
<li><p><code>weibullPH</code> Weibull distribution with a proportional hazards
parameterization. The first element of <code>coef</code> is the <code>shape</code> parameter
(on the log scale) and the second element is the <code>scale</code> parameter
(also on the log scale). The parameterization is
that same as in <code><a href='https://rdrr.io/pkg/flexsurv/man/WeibullPH.html'>flexsurv::WeibullPH</a></code>.</p></li>
<li><p><code>gamma</code> Gamma distribution. The first
element of <code>coef</code> is the <code>shape</code> parameter (on the log scale) and the second
element is the <code>rate</code> parameter (also on the log scale). The parameterization is
that same as in <code><a href='https://rdrr.io/r/stats/GammaDist.html'>stats::GammaDist</a></code>.</p></li>
<li><p><code>lnorm</code> Lognormal distribution. The first
element of <code>coef</code> is the <code>meanlog</code> parameter (i.e., the mean of survival on
the log scale) and the second element is the <code>sdlog</code> parameter (i.e.,
the standard deviation of survival on the log scale). The parameterization is
that same as in <code><a href='https://rdrr.io/r/stats/Lognormal.html'>stats::Lognormal</a></code>. The coefficients predicting the <code>meanlog</code>
parameter are untransformed whereas the coefficients predicting the <code>sdlog</code>
parameter are defined on the log scale.</p></li>
<li><p><code>gompertz</code> Gompertz distribution. The first
element of <code>coef</code> is the <code>shape</code> parameter and the second
element is the <code>rate</code> parameter (on the log scale). The parameterization is
that same as in <code><a href='https://rdrr.io/pkg/flexsurv/man/Gompertz.html'>flexsurv::Gompertz</a></code>.</p></li>
<li><p><code>llogis</code> Log-logistic distribution. The first
element of <code>coef</code> is the <code>shape</code> parameter (on the log scale) and the second
element is the <code>scale</code> parameter (also on the log scale). The parameterization is
that same as in <code><a href='https://rdrr.io/pkg/flexsurv/man/Llogis.html'>flexsurv::Llogis</a></code>.</p></li>
<li><p><code>gengamma</code> Generalized gamma distribution. The first
element of <code>coef</code> is the location parameter <code>mu</code>, the second
element is the scale parameter <code>sigma</code> (on the log scale), and the
third element is the shape parameter <code>Q</code>. The parameterization is
that same as in <code><a href='https://rdrr.io/pkg/flexsurv/man/GenGamma.html'>flexsurv::GenGamma</a></code>.</p></li>
<li><p><code>survspline</code> Survival splines. Each element of <code>coef</code> is a parameter of the
spline model (i.e. <code>gamma_0</code>, <code>gamma_1</code>, \(\ldots\)) with length equal
to the number of knots (including the boundary knots). See below for details on the
auxiliary arguments. The parameterization is that same as in <code><a href='https://rdrr.io/pkg/flexsurv/man/Survspline.html'>flexsurv::Survspline</a></code>.</p></li>
<li><p><code>fracpoly</code> Fractional polynomials. Each element of <code>coef</code> is a parameter of the
fractional polynomial model (i.e. <code>gamma_0</code>, <code>gamma_1</code>, \(\ldots\)) with length equal
to the number of powers plus 1. See below for details on the auxiliary arguments
(i.e., <code>powers</code>).</p></li>
<li><p><code>pwexp</code> Piecewise exponential distribution. Each element of <code>coef</code> is
rate parameter for a distinct time interval. The times at which the rates
change should be specified with the auxiliary argument <code>time</code> (see below
for more details).</p></li>
<li><p><code>fixed</code> A fixed survival time. Can be used for "non-random" number
generation. <code>coef</code> should contain a single parameter, <code>est</code>, of the fixed
survival times.</p></li>
</ul>

<p>Auxiliary arguments for spline models should be specified as a list containing the elements:</p><dl>
<dt><code>knots</code></dt><dd><p>A numeric vector of knots.</p></dd>
<dt><code>scale</code></dt><dd><p>The survival outcome to be modeled
as a spline function. Options are <code>"log_cumhazard"</code> for the log cumulative hazard;
<code>"log_hazard"</code> for the log hazard rate; <code>"log_cumodds"</code> for the log cumulative odds;
and <code>"inv_normal"</code> for the inverse normal distribution function.</p></dd>
<dt><code>timescale</code></dt><dd><p>If <code>"log"</code> (the default), then survival is modeled as a spline function
of log time; if <code>"identity"</code>, then it is modeled as a spline function of time.</p></dd>

</dl>

<p>Auxiliary arguments for fractional polynomial models should be specified as a list containing the elements:</p><dl>
<dt><code>powers</code></dt><dd><p>A vector of the powers of the fractional polynomial with each element
chosen from the following set: -2. -1, -0.5, 0, 0.5, 1, 2, 3.</p></dd>

</dl>

<p>Auxiliary arguments for piecewise exponential models should be specified as
a list containing the element:</p><dl>
<dt><code>time</code></dt><dd><p>A vector equal to the number of rate parameters giving the
times at which the rate changes.</p></dd>

</dl>

<p>Furthermore, when splines (with <code>scale = "log_hazard"</code>) or fractional
polynomials are used, numerical methods must be used to compute the cumulative
hazard and for random number generation. The following additional auxiliary arguments
can therefore be specified:</p><dl>
<dt><code>cumhaz_method</code></dt><dd><p>Numerical method used to compute cumulative hazard
(i.e., to integrate the hazard function). Always used for fractional polynomials
but only used for splines if <code>scale = "log_hazard"</code>.
Options are <code>"quad"</code> for adaptive quadrature and <code>"riemann"</code> for Riemann sum.</p></dd>
<dt><code>random_method</code></dt><dd><p>Method used to randomly draw from
an arbitrary survival function. Options are <code>"invcdf"</code> for the inverse CDF and
<code>"discrete"</code> for a discrete time approximation that randomly samples
events from a Bernoulli distribution at discrete times.</p></dd>
<dt><code>step</code></dt><dd><p>Step size for computation of cumulative hazard with
numerical integration. Only required when using <code>"riemann"</code> to compute the
cumulative hazard or using <code>"discrete"</code> for random number generation.</p></dd>

</dl>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='va'>params</span> <span class='op'>&lt;-</span> <span class='fu'>params_surv</span><span class='op'>(</span>
  coefs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    shape <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
      intercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>.5</span>, <span class='fl'>.23</span><span class='op'>)</span>
    <span class='op'>)</span>,
    scale <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
      intercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='fl'>12.39</span>, <span class='fl'>1.49</span><span class='op'>)</span>,
      age <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='va'>n</span>, <span class='op'>-</span><span class='fl'>.09</span>, <span class='fl'>.023</span><span class='op'>)</span>
   <span class='op'>)</span>
  <span class='op'>)</span>,
  dist <span class='op'>=</span> <span class='st'>"weibull"</span>
<span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>params</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    parameter      term    estimate       lower       upper
#&gt; 1:     shape intercept  0.39424641  0.05187104  0.75053130
#&gt; 2:     scale intercept 12.75522448 11.56317229 14.17929321
#&gt; 3:     scale       age -0.09483336 -0.13146423 -0.06896448</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>params</span><span class='op'>)</span>
</div><div class='output co'>#&gt; A "params_surv" object:
#&gt; 
#&gt; Summary of coefficient estimates:
#&gt;    parameter      term    estimate       lower       upper
#&gt; 1:     shape intercept  0.39424641  0.05187104  0.75053130
#&gt; 2:     scale intercept 12.75522448 11.56317229 14.17929321
#&gt; 3:     scale       age -0.09483336 -0.13146423 -0.06896448
#&gt; 
#&gt; Number of parameter samples: 10
#&gt; Distribution: weibull</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Devin Incerti, Jeroen P. Jansen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


